<!doctype html>
<html lang="en"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Product — Deenice Finds</title>
<link rel="icon" href="assets/logo-100.png" />
<link rel="stylesheet" href="styles.css"/>
</head><body class="bg">
<header class="site-header">
  <div class="header-inner">
    <a class="brand" href="/"><img src="assets/logo-100.png" alt="logo" class="logo">Deenice Finds</a>
  </div>
</header>
<main id="productMain" style="max-width:900px;margin:20px auto;padding:0 12px">
  <!-- content injected by JS -->
</main>
<footer style="max-width:900px;margin:20px auto;padding:12px">© Deenice Finds</footer>
<script>
const params = new URLSearchParams(location.search);
const id = params.get('id');
const DATA = JSON.parse([{"id": "p1", "title": "Magsafe Battery pack 10,000Mah", "price": 3900, "desc": "Portable Magnetic Wireless Power Bank (10000 mAh) - Premium design and magnetic wireless charging.", "images": ["https://i.postimg.cc/zGzWBSLp/H752e9673ded14855b91e284d97ed781c-F.jpg", "https://i.postimg.cc/D03nz6zL/Screenshot-2025-10-15-201118.png", "https://i.postimg.cc/RZpmt4Fx/image.png", "https://i.postimg.cc/kgHr4s1R/image.png", "https://i.postimg.cc/V6LXV9wM/image.png"], "colors": [{"name": "White", "img": "https://i.postimg.cc/zGzWBSLp/H752e9673ded14855b91e284d97ed781c-F.jpg"}, {"name": "Black", "img": "https://i.postimg.cc/NGRrkPRs/Hf7fb927b9b97487da96fbd5dd5bc6badx.jpg"}, {"name": "Green (demo)", "img": "https://i.postimg.cc/zGzWBSLp/H752e9673ded14855b91e284d97ed781c-F.jpg"}, {"name": "Pink (demo)", "img": "https://i.postimg.cc/zGzWBSLp/H752e9673ded14855b91e284d97ed781c-F.jpg"}]}, {"id": "p2", "title": "Magsafe Battery pack Demo 2", "price": 3700, "desc": "Demo product", "images": ["https://i.postimg.cc/zGzWBSLp/H752e9673ded14855b91e284d97ed781c-F.jpg"], "colors": [{"name": "White", "img": "https://i.postimg.cc/zGzWBSLp/H752e9673ded14855b91e284d97ed781c-F.jpg"}]}, {"id": "p3", "title": "Magsafe Battery pack Demo 3", "price": 3800, "desc": "Demo product", "images": ["https://i.postimg.cc/zGzWBSLp/H752e9673ded14855b91e284d97ed781c-F.jpg"], "colors": [{"name": "White", "img": "https://i.postimg.cc/zGzWBSLp/H752e9673ded14855b91e284d97ed781c-F.jpg"}]}, {"id": "p4", "title": "Magsafe Battery pack Demo 4", "price": 3900, "desc": "Demo product", "images": ["https://i.postimg.cc/zGzWBSLp/H752e9673ded14855b91e284d97ed781c-F.jpg"], "colors": [{"name": "White", "img": "https://i.postimg.cc/zGzWBSLp/H752e9673ded14855b91e284d97ed781c-F.jpg"}]}, {"id": "p5", "title": "Magsafe Battery pack Demo 5", "price": 4000, "desc": "Demo product", "images": ["https://i.postimg.cc/zGzWBSLp/H752e9673ded14855b91e284d97ed781c-F.jpg"], "colors": [{"name": "White", "img": "https://i.postimg.cc/zGzWBSLp/H752e9673ded14855b91e284d97ed781c-F.jpg"}]}, {"id": "p6", "title": "Magsafe Battery pack Demo 6", "price": 4100, "desc": "Demo product", "images": ["https://i.postimg.cc/zGzWBSLp/H752e9673ded14855b91e284d97ed781c-F.jpg"], "colors": [{"name": "White", "img": "https://i.postimg.cc/zGzWBSLp/H752e9673ded14855b91e284d97ed781c-F.jpg"}]}, {"id": "p7", "title": "Magsafe Battery pack Demo 7", "price": 4200, "desc": "Demo product", "images": ["https://i.postimg.cc/zGzWBSLp/H752e9673ded14855b91e284d97ed781c-F.jpg"], "colors": [{"name": "White", "img": "https://i.postimg.cc/zGzWBSLp/H752e9673ded14855b91e284d97ed781c-F.jpg"}]}, {"id": "p8", "title": "Magsafe Battery pack Demo 8", "price": 4300, "desc": "Demo product", "images": ["https://i.postimg.cc/zGzWBSLp/H752e9673ded14855b91e284d97ed781c-F.jpg"], "colors": [{"name": "White", "img": "https://i.postimg.cc/zGzWBSLp/H752e9673ded14855b91e284d97ed781c-F.jpg"}]}, {"id": "p9", "title": "Magsafe Battery pack Demo 9", "price": 4400, "desc": "Demo product", "images": ["https://i.postimg.cc/zGzWBSLp/H752e9673ded14855b91e284d97ed781c-F.jpg"], "colors": [{"name": "White", "img": "https://i.postimg.cc/zGzWBSLp/H752e9673ded14855b91e284d97ed781c-F.jpg"}]}, {"id": "p10", "title": "Magsafe Battery pack Demo 10", "price": 4500, "desc": "Demo product", "images": ["https://i.postimg.cc/zGzWBSLp/H752e9673ded14855b91e284d97ed781c-F.jpg"], "colors": [{"name": "White", "img": "https://i.postimg.cc/zGzWBSLp/H752e9673ded14855b91e284d97ed781c-F.jpg"}]}]);
const p = DATA.find(x=>x.id===id) || DATA[0];
document.title = p.title + " — Deenice Finds";
const main = document.getElementById('productMain');
main.innerHTML = `
  <div class="product-page">
    <div style="display:flex;gap:12px;flex-wrap:wrap">
      <div style="flex:1 1 320px">
        <div class="gallery">
          ${'${p.images.map((img,idx)=>`<img src="'+img+'" style="width:100%;display:'+ (idx===0?\"block\":\"none\") +'" class="gimg" data-idx="'+idx+'">`).join("")}'}
        </div>
        <div style="display:flex;gap:8px;margin-top:8px">
          ${'${p.images.map((img,idx)=>`<img src="'+img+'" style="width:60px;height:60px;object-fit:cover;border-radius:8px;cursor:pointer" onclick="showImage('+idx+')">`).join("")}'}
        </div>
      </div>
      <div style="flex:1 1 260px">
        <h1>${'${p.title}'}</h1>
        <p class="price">KES ${'${p.price.toLocaleString()}'}</p>
        <p style="font-style:italic">${'${p.desc}'}</p>
        <div id="colorOptions" style="margin-top:12px"></div>
        <div style="margin-top:12px">
          <label>Quantity</label>
          <input id="qty" type="number" value="1" min="1" style="width:80px;padding:6px;margin-left:8px;border-radius:8px;border:1px solid #e6e9ef"/>
        </div>
        <div style="margin-top:12px">
          <button id="addBtn" style="padding:10px 14px;border-radius:10px;background:var(--pill);border:0">Add to cart</button>
          <button id="buyNow" style="padding:10px 14px;border-radius:10px;margin-left:8px">Buy via WhatsApp</button>
        </div>
      </div>
    </div>
  </div>
`;
function showImage(i){
  document.querySelectorAll('.gimg').forEach((el,idx)=> el.style.display = idx===i ? 'block' : 'none');
}
const colorDiv = document.getElementById('colorOptions');
p.colors.forEach((c,idx)=>{
  const b = document.createElement('button');
  b.innerHTML = `<img src="${'${c.img}'}" style="width:48px;height:48px;object-fit:cover;border-radius:8px"><div>${'${c.name}'}</div>`;
  b.style.border = '1px solid transparent';
  b.style.padding = '6px';
  b.style.marginRight = '6px';
  b.onclick = ()=>{ document.querySelectorAll('#colorOptions button').forEach(x=>x.style.border='1px solid transparent'); b.style.border='2px solid #D9E4FC'; b.style.background='#F6F2FD'; b.dataset.selected = '1'; b.dataset.cname = c.name; };
  colorDiv.appendChild(b);
});
document.getElementById('addBtn').addEventListener('click', ()=>{
  const qty = parseInt(document.getElementById('qty').value||1);
  const selected = Array.from(document.querySelectorAll('#colorOptions button')).find(b=>b.dataset.selected==='1');
  const color = selected ? selected.dataset.cname : 'Default';
  window.__Deenice.addToCart({id:p.id,title:p.title,price:p.price,qty, color});
  alert('Added to cart');
});
document.getElementById('buyNow').addEventListener('click', ()=>{
  const qty = parseInt(document.getElementById('qty').value||1);
  const selected = Array.from(document.querySelectorAll('#colorOptions button')).find(b=>b.dataset.selected==='1');
  const color = selected ? selected.dataset.cname : 'Default';
  const msg = `Hello, I'm interested in ${'${qty}'} x ${'${p.title}'} (${'${color}'}) - KES ${'${p.price}'}`;
  window.open('https://wa.me/254106590617?text='+encodeURIComponent(msg));
});
</script>
</body></html>
